@using Resource = EA.Iws.Web.Areas.NotificationApplication.Views.UpdateHistory.IndexResources
@model EA.Iws.Web.Areas.NotificationApplication.ViewModels.UpdateHistory.UpdateHistoryViewModel

@{
    ViewBag.Title = @Resource.TabTitle;
    Layout = "~/Views/Shared/_Layout.GovUK.Sections.cshtml";
}

@helper DisplayDate(DateTimeOffset date)
{
    @date.ToString("d MMM yyyy")
}

@helper DisplayTime(DateTimeOffset time)
{
    @time.ToString("HH:mm")
}

@Html.Partial("_Title", null)

<div class="form-group">

    <table class="odd-table" title="@Resource.TitleNotificationUpdateHistorySearchResults">
        <caption class="visuallyhidden">@Resource.TableCaption</caption>
        <thead>
            <tr>
                <th>
                    @Resource.ThName
                </th>
                <th>
                    @Resource.ThDate
                </th>
                <th>
                    @Resource.ThTime
                </th>
                <th>
                    @Resource.ThInformationChange
                </th>
                <th>
                    @Resource.ThTypeOfChange
                </th>
            </tr>
        </thead>

        <tbody>
            @for (int i = 0; i < Model.UpdateHistoryItems.Count; i++)
            {
                <tr>
                    <td>
                        @Model.UpdateHistoryItems[i].UserName
                    </td>
                    <td>
                        @DisplayDate(@Model.UpdateHistoryItems[i].DateAdded)
                    </td>
                    <td>
                        @DisplayTime(@Model.UpdateHistoryItems[i].DateAdded)
                    </td>
                    <td>
                        @Model.UpdateHistoryItems[i].ScreenName
                    </td>
                    <td>
                        @Model.UpdateHistoryItems[i].AuditType
                    </td>
                </tr>
            }
        </tbody>
    </table>

</div>

@Html.ActionLink("Go to Notification Overview", "Index", "Home", new { @Model.NotificationId, backToOverview = true }, null)
