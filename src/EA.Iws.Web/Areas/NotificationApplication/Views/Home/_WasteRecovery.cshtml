@model EA.Iws.Web.Areas.NotificationApplication.ViewModels.NotificationApplication.WasteRecoveryViewModel
@{
    var id = Model.NotificationId;
    var disposalOrRecovery = Model.NotificationType;
}

<h2 class="heading-medium">Waste @disposalOrRecovery.ToString().ToLowerInvariant()</h2>

<div>
    <details>
        <summary>
            @disposalOrRecovery information @if (Model.IsWasteRecoveryInformationCompleted)
            { <i class="fa fa-check green-text"></i> }
            <span class="edit-link-container">@Html.ActionLink("Edit", "RecoveryPercentage", "RecoveryInfo", new { id }, null)</span>
        </summary>
        <div class="expanded-details">
            @if (Model.IsWasteRecoveryInformationCompleted)
            {
                <div class="panel-indent">
                    <dl>
                        @if (Model.RecoveryPercentageData.IsProvidedByImporter.GetValueOrDefault())
                        {
                            <dt>Details:</dt>
                            <dd>The importer-consignee will provide the details</dd>
                        }
                        else
                        {
                            <dt>Percentage recoverable:</dt>
                            <dd>@Html.DisplayFor(m => m.RecoveryPercentageData.PercentageRecoverable)%</dd>

                            if (Model.RecoveryPercentageData.PercentageRecoverable.GetValueOrDefault() < 100)
                            {
                                <dt>Disposal method:</dt>
                                <dd>@Html.DisplayFor(m => m.RecoveryPercentageData.MethodOfDisposal)</dd>
                            }

                            <dt>Estimated value of recoverable material (per @Html.DisplayFor(m => m.RecoveryInfoData.EstimatedUnit)):</dt>
                            <dd>£@Html.DisplayFor(m => m.RecoveryInfoData.EstimatedAmount)</dd>

                            <dt>Cost of recovery (per @Html.DisplayFor(m => m.RecoveryInfoData.CostUnit)):</dt>
                            <dd>£@Html.DisplayFor(m => m.RecoveryInfoData.CostAmount)</dd>

                            if (Model.RecoveryInfoData.DisposalAmount.HasValue)
                            {
                                <dt>Cost of disposal (per @Html.DisplayFor(m => m.RecoveryInfoData.DisposalUnit)):</dt>
                                <dd>£@Html.DisplayFor(m => m.RecoveryInfoData.DisposalAmount)</dd>
                            }
                        }
                    </dl>
                </div>
            }
        </div>
    </details>
</div>