@using EA.Iws.Core.WasteCodes
@model EA.Iws.Web.Areas.NotificationApplication.ViewModels.NotificationApplication.ClassifyYourWasteViewModel
@{
    var id = Model.NotificationId;
    var baselOrOecdType = (Model.BaselOecdCode != null && Model.BaselOecdCode.Length > 0)
        ? EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(Model.BaselOecdCode[0].CodeType) :
        EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.Basel) + "/" + EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.Oecd);
}

<h2 class="heading-medium">Classify your waste</h2>

<div>
    <details>
        <summary>
            Chemical composition @if (Model.Progress.IsChemicalCompositionCompleted)
            { <i class="fa fa-check green-text"></i> }
            <span class="edit-link-container">@Html.ActionLink("Edit", "ChemicalComposition", "WasteType", new { id }, null)</span>
        </summary>
        <div class="expanded-details">
            @if (Model.Progress.IsChemicalCompositionCompleted)
            {
                <div class="panel-indent">
                    <dl>
                        <dt>Type:</dt>
                        <dd>@Html.DisplayFor(m => m.ChemicalComposition.ChemicalCompositionType)</dd>

                        @if (!string.IsNullOrWhiteSpace(Model.ChemicalComposition.ChemicalCompositionName))
                        {
                            <dt>Name:</dt>
                            <dd>@Html.DisplayFor(m => m.ChemicalComposition.ChemicalCompositionName)</dd>
                        }
                        @if (!string.IsNullOrWhiteSpace(Model.ChemicalComposition.ChemicalCompositionDescription))
                        {
                            <dt>Description:</dt>
                            <dd>@Html.DisplayFor(m => m.ChemicalComposition.ChemicalCompositionDescription)</dd>
                        }
                        
                        <dt>Chemical composition minimum and maximum as a weight by weight percentage:</dt>
                    </dl>
                    <table>
                        <thead>
                            <tr>
                                <th>Constituent</th>
                                <th>Composition</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < Model.ChemicalComposition.WasteCompositionData.Count; i++)
                            {
                                <tr>
                                    <td>@Html.DisplayFor(m => m.ChemicalComposition.WasteCompositionData[i].Constituent)</td>
                                    <td>@Html.DisplayFor(m => m.ChemicalComposition.WasteCompositionData[i].MinConcentration)% 
                                    - @Html.DisplayFor(m => m.ChemicalComposition.WasteCompositionData[i].MaxConcentration)%</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
        </div>

    </details>
    <details>
        <summary>
            Process of generation @if (Model.Progress.IsProcessOfGenerationCompleted)
            { <i class="fa fa-check green-text"></i> }
            <span class="edit-link-container">@Html.ActionLink("Edit", "Index", "WasteGenerationProcess", new { id }, null)</span>
        </summary>
        <div class="expanded-details">
            @if (Model.Progress.IsProcessOfGenerationCompleted)
            {
                <div class="panel-indent">
                    <p>@Html.DisplayFor(m => m.ProcessOfGeneration)</p>
                </div>
            }
        </div>
    </details>
    <details>
        <summary>
            Physical characteristics @if (Model.Progress.ArePhysicalCharacteristicsCompleted)
            { <i class="fa fa-check green-text"></i> }
            <span class="edit-link-container">@Html.ActionLink("Edit", "Index", "PhysicalCharacteristics", new { id }, null)</span>
        </summary>
        <div class="expanded-details">
            @if (Model.Progress.ArePhysicalCharacteristicsCompleted)
            {
                <div class="panel-indent">
                    <dl>
                        <dt>Physical characteristics of the waste:</dt>
                        <dd>@Html.Encode(string.Join(", ", Model.PhysicalCharacteristics))</dd>
                    </dl>
                </div>
            }
        </div>
    </details>
    <details>
        <summary>
            Waste codes @if (Model.Progress.AreWasteCodesCompleted)
            { <i class="fa fa-check green-text"></i> }
            <span class="edit-link-container">@Html.ActionLink("Edit", "BaselEwcCode", "WasteCodes", new { id }, null)</span>
        </summary>
        <div class="expanded-details">
            @if (Model.Progress.AreWasteCodesCompleted)
            {
                <div class="panel-indent">
                    <table>
                        <thead>
                            <tr>
                                <th>Code Type</th>
                                <th>Codes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>@baselOrOecdType</td>
                                <td>
                                    @foreach (var c in Model.BaselOecdCode)
                                    {
                                        @c.Code
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.Ewc)</td>
                                <td>
                                    @foreach (var c in Model.EwcCodes)
                                    {
                                        @c.Code
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.ExportCode)</td>
                                <td>
                                    @foreach (var c in Model.NationExportCode)
                                    {
                                        @c.CustomCode
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.ImportCode)</td>
                                <td>
                                    @foreach (var c in Model.NationImportCode)
                                    {
                                        @c.CustomCode
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.OtherCode)</td>
                                <td>
                                    @foreach (var c in Model.OtherCodes)
                                    {
                                        @c.CustomCode
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.Y)</td>
                                <td>
                                    @foreach (var c in Model.YCodes)
                                    {
                                        @c.Code
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.H)</td>
                                <td>
                                    @foreach (var c in Model.HCodes)
                                    {
                                        @c.Code
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.Un)</td>
                                <td>
                                    @foreach (var c in Model.UnClass)
                                    {
                                        @c.Code
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.UnNumber)</td>
                                <td>
                                    @foreach (var c in Model.UnNumber)
                                    {
                                        @c.Code
                                        <br />
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td>@EA.Prsd.Core.Helpers.EnumHelper.GetDisplayName(CodeType.CustomsCode)</td>
                                <td>
                                    @foreach (var c in @Model.CustomCodes)
                                    {
                                        @c.CustomCode
                                        <br />
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            }
        </div>
    </details>
</div>