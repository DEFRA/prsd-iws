@model EA.Iws.Web.Areas.NotificationApplication.ViewModels.TransitState.TransitStateViewModel
@{
    ViewBag.Title = "Transit State";
}
<h2 class="heading-large">Where is the waste travelling through?</h2>

@using (Html.BeginForm())
{
    @Html.Gds().ValidationSummary()
    @Html.AntiForgeryToken()
    
    @Html.HiddenFor(m => m.StateOfExportCountryId)
    @Html.HiddenFor(m => m.StateOfImportCountryId)

    if (Model.TransitStateCountryIds != null)
    {
        for (int i = 0; i < Model.TransitStateCountryIds.Count; i++)
        {
            @Html.HiddenFor(m => m.TransitStateCountryIds[i])
        }
    }
    
    if (!Model.IsCountrySelected)
    {
        @Html.Partial("CountrySelector", Model)
        @section scripts{
            <script>
                (function ($) {
                    $(function () {
                        $('#CountryId').selectToAutocomplete();
                    });
                })(jQuery);
            </script>
        }
    }
    else
    {
        @Html.Partial("OtherDetailsSelector", Model)
        @section scripts{
            <script>
                (function ($) {
                    $(function () {
                        $('#EntryPointId').selectToAutocomplete();
                        $('#ExitPointId').selectToAutocomplete();
                    });
                })(jQuery);
            </script>
        }
    }
}