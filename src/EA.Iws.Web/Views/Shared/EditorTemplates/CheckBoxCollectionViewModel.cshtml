@model EA.Iws.Web.ViewModels.Shared.CheckBoxCollectionViewModel

@if (Model != null)
{
    <div class="govuk-checkboxes" data-module="govuk-checkboxes">
        @for (int i = 0; i < Model.PossibleValues.Count; i++)
        {
            MvcHtmlString idForThisCheckBox = Html.NameFor(m => m.PossibleValues[i]);

            <div class="multiple-choice govuk-checkboxes__item">
                @Html.CheckBoxFor(m => m.PossibleValues[i].Selected, new { id = idForThisCheckBox, @class = "govuk-checkboxes__input" })
                <label class="govuk-label govuk-checkboxes__label" for="@idForThisCheckBox">
                    @if (Model.ShowEnumValue)
                    {
                        @Html.DisplayFor(m => m.PossibleValues[i].Value)
                        @Html.Raw(" - ")
                    }
                    @Html.DisplayFor(m => m.PossibleValues[i].Text)
                </label>
            </div>

            @Html.HiddenFor(m => m.PossibleValues[i].Text)
            @Html.HiddenFor(m => m.PossibleValues[i].Value)
        }
    </div>
}