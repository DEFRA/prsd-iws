@model EA.Iws.Web.ViewModels.Shared.OptionalDateInputViewModel

@{
    var isDisabled = (ViewData["IsInputDisabled"] ?? false).ToString() == true.ToString().ToLower();
}

<div class="form-date">
    @Html.Gds().ValidationMessageFor(m => m.Day)
    @Html.Gds().ValidationMessageFor(m => m.Month)
    @Html.Gds().ValidationMessageFor(m => m.Year)
    @Html.HiddenFor(m => m.IsAutoTabEnabled)
    @Html.HiddenFor(m => m.AllowPastDates)
    <div class="govuk-form-group form-group-day">
        @if (Model.ShowLabels)
        {
            @Html.Gds().LabelFor(m => m.Day, false)
        }
        @if (isDisabled)
        {
            @Html.Gds().TextBoxFor(m => m.Day, new { type = "number", min = "1", max = "31", disabled = true }, useHalfWidth: false)
        }
        else
        {
            @Html.Gds().TextBoxFor(m => m.Day, new
            {
                type = "number",
                min = "1",
                max = "31",
                data_type = (Model.IsAutoTabEnabled) ? "date" : string.Empty,
                placeholder = Model.ShowLabels ? string.Empty : "DD"
            }, useHalfWidth: false)
        }
    </div>
    <div class="govuk-form-group form-group-month">
        @if (Model.ShowLabels)
        {
            @Html.Gds().LabelFor(m => m.Month, false)
        }
        @if (isDisabled)
        {
            @Html.Gds().TextBoxFor(m => m.Month, new { type = "number", min = "1", max = "12", disabled = true }, useHalfWidth: false)
        }
        else
        {
            @Html.Gds().TextBoxFor(m => m.Month, new
            {
                type = "number",
                min = "1",
                max = "12",
                data_type = (Model.IsAutoTabEnabled) ? "date" : string.Empty,
                placeholder = Model.ShowLabels ? string.Empty : "MM"
            }, useHalfWidth: false)
        }
    </div>
    <div class="govuk-form-group form-group-year">
        @if (Model.ShowLabels)
        {
            @Html.Gds().LabelFor(m => m.Year, false)
        }
        @if (isDisabled)
        {
            @Html.Gds().TextBoxFor(m => m.Year, new { type = "number", min = "2015", disabled = true }, useHalfWidth: false)
        }
        else
        {
            @Html.Gds().TextBoxFor(m => m.Year, new
            {
                type = "number",
                min = Model.AllowPastDates ? "1900" : "2015",
                placeholder = Model.ShowLabels ? string.Empty : "YYYY"
            }, useHalfWidth: false)
        }
    </div>
</div>